(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61b961d5"],{"645d":function(e,t,i){"use strict";var s=i("d03c"),l=i.n(s);l.a},cb37:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" "+e._s(e.$t("Tinymce.upload"))+" ")]),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:e.action,headers:e.headers,"list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" "+e._s(e.$t("Tinymce.Click upload"))+" ")])],1),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(" "+e._s(e.$t("Tinymce.Cancel"))+" ")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" "+e._s(e.$t("Tinymce.Confirm"))+" ")])],1)],1)},l=[],a=(i("d81d"),i("b64b"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("4360")),n={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"},action:{type:String,default:"http://laravel-api.chenming.club/api/file/uploadCompanyImg"},headers:{type:Object,default:function(){return{Authorization:"Bearer "+storage.get("vueDemoToken"),lang:a["default"].getters.language}}}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every((function(t){return e.listObj[t].hasSuccess}))},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map((function(t){return e.listObj[t]}));this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(e,t){for(var i=Object.keys(this.listObj),s=0,l=i.length;s<l;s++)this.listObj[i[s]].url=e.url,this.listObj[i[s]].hasSuccess=!0},handleRemove:function(e){for(var t=e.uid,i=Object.keys(this.listObj),s=0,l=i.length;s<l;s++)if(this.listObj[i[s]].uid===t)return void delete this.listObj[i[s]]},beforeUpload:function(e){var t=this,i=window.URL||window.webkitURL,s=e.uid;return this.listObj[s]={},new Promise((function(l,a){var n=new Image;n.src=i.createObjectURL(e),n.onload=function(){t.listObj[s]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},l(!0)}))}}},o=n,c=(i("645d"),i("2877")),r=Object(c["a"])(o,s,l,!1,null,"7eaaa0d5",null);t["default"]=r.exports},d03c:function(e,t,i){}}]);