(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14d55a3a","chunk-2d0ceb17"],{6117:function(e,t,i){"use strict";i.r(t);i("c740"),i("4e82"),i("a434");var l=function e(t,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";if(!t||null===t||t.length<=0)return null;for(var s=0;s<t.length;s++){if(t[s][l]===i)return t[s];var r=e(t[s][n],i,l,n);if(null!==r)return r}return null},n=function e(t,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parentId",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"children";if(!(null===t||t.length<=0)){if(!i[n]||null===i[n]){var r=t.findIndex((function(e){return e.sort>i.sort}));return-1===r&&(r=t.length),void t.splice(r,0,i)}for(var o=0;o<t.length;o++){var a=t[o];if(i[n]===a[l])if(a[s]&&a[s].length>0){var c=a[s].findIndex((function(e){return e.sort>i.sort}));-1===c&&(c=a[s].length),a[s].splice(c,0,i)}else a[s]=[],a[s].push(i);else e(a[s],i,l,n,s)}}},s=function e(t,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";if(!t||null===t||t.length<=0)return!0;for(var s=0;s<t.length;s++){if(t[s][l]===i)return t.splice(s,1),!0;var r=e(t[s][n],i,l,n);if(r)return r}return!1},r=function e(t,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";if(t&&null!==t&&!(t.length<=0)&&i&&null!==i&&!(i.length<=0))for(var s=0;s<t.length;s++)i.findIndex((function(e){return e===t[s][l]}))>-1?(t.splice(s,1),s--):e(t[s][n],i,l,n)},o=function e(t,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children";if(!t||null===t||t.length<=0)return!1;for(var s=0;s<t.length;s++){if(t[s][l]===i[l])return console.log(t[s][l],i[l]),t.splice(s,1,i),!0;var r=e(t[s][n],i,l,n);if(r)return r}return!1};t["default"]={methods:{findFromTree:l,appendTreeNode:n,deleteFromTree:s,updateTreeNode:o,batchDeleteFromTree:r}}},"9dfb":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select"},[e.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px"},on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[i("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(t){return i("el-tag",{key:t.id,attrs:{closable:"",type:"primary","close-transition":""},on:{close:function(i){return e.deleteTag(i,t)}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t[e.propNames.label]))])])})),1)],1):e._e(),i("el-input",{ref:"reference",attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,size:e.size,disabled:e.disabled,readonly:e.multiple,"validate-event":!1,icon:e.iconClass},on:{focus:function(t){e.visible=!0},click:e.handleIconClick},nativeOn:{mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}}),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy,"after-enter":e.handleMenuEnter}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper"},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&!e.loading,expression:"treeData && !loading"}],staticClass:"is-empty",attrs:{tag:"div","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[i("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":e.multiple,"node-key":"id","check-strictly":"",props:e.propNames},on:{"check-change":e.handleCheckChange,"node-click":e.handleTreeNodeClick}})],1)],1)],1)],1)},n=[],s=(i("4de4"),i("c975"),i("a434"),i("a9e3"),i("159b"),i("f6f4")),r=i("d4b4"),o=i("2659"),a=i("9169"),c=i("526f"),h=i("2f7b"),d=i("9206"),u=i("6117"),p={large:42,small:30,mini:22},f={mixins:[s["a"],r["a"],u["default"]],name:"ElSelectTree",componentName:"ElSelectTree",computed:{iconClass:function(){var e=this.clearable&&!this.disabled&&this.inputHovering&&!this.multiple&&void 0!==this.value&&null!==this.value&&""!==this.value;return e?"circle-close is-show-close":"caret-top"},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):0===this.treeData.length?this.noDataText||this.t("el.select.noData"):null}},components:{ElSelectMenu:o["a"]},directives:{Clickoutside:a["a"]},props:{name:String,value:{},treeData:Array,size:String,disabled:Boolean,clearable:Boolean,loading:Boolean,popperClass:String,loadingText:String,noDataText:String,multiple:Boolean,propNames:{type:Object,default:function(){return{children:"children",label:"label",id:"id"}}},multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(d["a"])("el.select.placeholder")}}},data:function(){return{selected:this.multiple?[]:{},inputLength:20,inputWidth:0,currentPlaceholder:"",dropdownUl:null,visible:!1,selectedLabel:"",bottomOverflow:0,topOverflow:0,inputHovering:!1}},watch:{value:function(e){this.handleResize(),this.currentPlaceholder=e?"":this.placeholder,this.setSelected(e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){e?(this.handleIconShow(),this.broadcast("ElSelectDropdown","updatePopper")):(this.$refs.reference.$el.querySelector("input").blur(),this.handleIconHide(),this.broadcast("ElSelectDropdown","destroyPopper"),this.multiple||(this.inputLength=20,this.getOverflows())),this.$emit("visible-change",e)}},methods:{handleIconHide:function(){var e=this.$el.querySelector(".el-input__icon");e&&Object(c["e"])(e,"is-reverse")},handleIconShow:function(){var e=this.$el.querySelector(".el-input__icon");e&&!Object(c["c"])(e,"el-icon-circle-close")&&Object(c["a"])(e,"is-reverse")},handleMenuEnter:function(){this.dropdownUl||(this.dropdownUl=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap"),this.getOverflows()),!this.multiple&&this.dropdownUl&&this.resetMenuScroll()},getOverflows:function(){if(this.dropdownUl&&this.selected&&this.selected.$el){var e=this.selected.$el.getBoundingClientRect(),t=this.$refs.popper.$el.getBoundingClientRect();this.bottomOverflow=e.bottom-t.bottom,this.topOverflow=e.top-t.top}},resetMenuScroll:function(){this.bottomOverflow>0?this.dropdownUl.scrollTop+=this.bottomOverflow:this.topOverflow<0&&(this.dropdownUl.scrollTop+=this.topOverflow)},setSelected:function(e){e?this.multiple?(this.$refs.tree.setCheckedKeys(e),this.selected=this.$refs.tree.getCheckedNodes()):(this.selected=this.findFromTree(this.treeData,e,this.propNames.id,this.propNames.children),this.selectedLabel=this.selected?this.selected[this.propNames.label]:""):(this.selected=this.multiple?[]:{},this.selectedLabel="")},handleIconClick:function(e){this.iconClass.indexOf("circle-close")>-1?this.deleteSelected(e):this.toggleMenu()},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.$nextTick((function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,i=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0];i.style.height=Math.max(e.$refs.tags.clientHeight+6,p[e.size]||36)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}}))},handleTreeNodeClick:function(e){this.multiple||(this.$emit("input",e.id),this.visible=!1,this.selectedLabel=e[this.propNames.label],this.selected=e,this.handleResize())},handleCheckChange:function(){if(this.multiple){this.selected=this.$refs.tree.getCheckedNodes();var e=[];this.selected&&this.selected.forEach((function(t){e.push(t.id)})),this.$emit("input",e),this.handleResize()}},toggleMenu:function(){this.visible||this.disabled||(this.visible=!this.visible)},resetScrollTop:function(){var e=this.options[this.hoverIndex].$el.getBoundingClientRect().bottom-this.$refs.popper.$el.getBoundingClientRect().bottom,t=this.options[this.hoverIndex].$el.getBoundingClientRect().top-this.$refs.popper.$el.getBoundingClientRect().top;e>0&&(this.dropdownUl.scrollTop+=e),t<0&&(this.dropdownUl.scrollTop+=t)},deleteSelected:function(e){e.stopPropagation(),this.$emit("input",""),this.selected={},this.selectedLabel="",this.visible=!1},deleteTag:function(e,t){var i=this.selected.indexOf(t);i>-1&&!this.disabled&&(this.value.splice(i,1),this.selected.splice(i,1),this.$emit("remove-tag",t)),e.stopPropagation()},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple?this.resetInputHeight():this.inputLength=20}},created:function(){this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.setSelected(),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;Object(h["a"])(this.$el,this.handleResize),this.$nextTick((function(){e.$refs.reference&&e.$refs.reference.$el&&(e.inputWidth=e.$refs.reference.$el.getBoundingClientRect().width)}))},beforeDestroy:function(){this.$el&&this.handleResize&&Object(h["b"])(this.$el,this.handleResize)}},v=f,g=i("2877"),m=Object(g["a"])(v,l,n,!1,null,null,null);t["default"]=m.exports}}]);